(function(e){function t(t){for(var r,o,u=t[0],l=t[1],i=t[2],f=0,b=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/fav-albums/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"337a":function(e,t,n){"use strict";n("8059")},"37bb":function(e,t,n){},"49aa":function(e,t,n){},"4f6b":function(e,t,n){"use strict";n("d5f8")},5336:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={id:"app"},c={class:"errorMessage"},o={key:0},u=Object(r["e"])("div",{class:"mural-text"},"Your top albums in 2021",-1),l={class:"mural-box",ref:"muralRef"},i={class:"wrapper"};function s(e,t,n,s,f,b){var d=Object(r["n"])("Header"),p=Object(r["n"])("Search"),v=Object(r["n"])("Mural"),h=Object(r["n"])("Download"),O=Object(r["n"])("Footer");return Object(r["i"])(),Object(r["d"])("div",a,[Object(r["g"])(d),Object(r["g"])(p,{onUserSearch:s.searchInApi,class:Object(r["h"])(s.showMural?"":"frame")},null,8,["onUserSearch","class"]),Object(r["e"])("div",c,[Object(r["e"])("span",null,Object(r["o"])(s.errorMessage),1)]),s.showMural?(Object(r["i"])(),Object(r["d"])("div",o,[u,Object(r["e"])("div",l,[Object(r["e"])("div",i,[Object(r["g"])(v,{topAlbumData:s.topAlbumData,onShowDownloadButton:t[0]||(t[0]=function(t){return e.showDownloadButton.value=!0})},null,8,["topAlbumData"])])],512),Object(r["g"])(h,{onDownload:s.downloadMural},null,8,["onDownload"])])):Object(r["c"])("",!0),Object(r["g"])(O)])}var f=n("a1e9"),b=function(e){return Object(r["k"])("data-v-0ff1e1fc"),e=e(),Object(r["j"])(),e},d={class:"Header"},p=b((function(){return Object(r["e"])("p",null,[Object(r["f"])(" Top Albums Generator for "),Object(r["e"])("a",{href:"https://www.last.fm/user/IgorLirap"},"Last.fm"),Object(r["f"])(" users ")],-1)})),v=[p];function h(e,t,n,a,c,o){return Object(r["i"])(),Object(r["d"])("span",d,v)}var O={},j=(n("fa34"),n("6b0d")),m=n.n(j);const g=m()(O,[["render",h],["__scopeId","data-v-0ff1e1fc"]]);var w=g;n("b0c0");function y(e,t,n,a,c,o){var u=Object(r["n"])("Album");return Object(r["i"])(!0),Object(r["d"])(r["a"],null,Object(r["m"])(a.topAlbumInfo.value,(function(e,t){return Object(r["i"])(),Object(r["d"])("div",{key:e.name},[Object(r["g"])(u,{info:e,width:a.layoutConfig[t].width,tag:2==t},null,8,["info","width","tag"])])})),128)}var S=n("5c40"),k={class:"container"},A=["src","width","height"],D={key:0,class:"top-left"};function M(e,t,n,a,c,o){return Object(r["i"])(),Object(r["d"])("div",k,[Object(r["e"])("img",{src:a.img,width:a.coverWidth,height:a.coverWidth,alt:"",class:"myimg"},null,8,A),n.tag?(Object(r["i"])(),Object(r["d"])("div",D,"@favalbums.space")):Object(r["c"])("",!0)])}n("a9e3");var _={props:{info:{type:Object,require:!0,default:function(){}},width:{type:Number,require:!0},tag:{type:Boolean,required:!0}},setup:function(e){var t=Object(r["l"])(""),n=Object(r["l"])(0),a=Object(r["l"])(0),c=Object(r["l"])(!1),o=0;return Object(r["q"])((function(){t.value=e.info.img,n.value=e.info.name,a.value=e.info.playcount,c.value=e.tag,o=e.width})),{img:t,name:n,count:a,coverWidth:o}}};n("8ae0");const x=m()(_,[["render",M],["__scopeId","data-v-7629ddba"]]);var I=x,q=(n("cb29"),n("99af"),400),B=[{width:q/3,heigh:q/3},{width:q/6,heigh:q/6},{width:q/12,heigh:q/12}],C=Array(3).fill(B[0]),P=Array(12).fill(B[1]),R=Array(36).fill(B[2]),F=C.concat(P,R),T=F,U={components:{Album:I},props:{topAlbumData:{type:Object,required:!1,default:function(){}}},setup:function(e){var t=Object(f["k"])({value:[]}),n=T;return Object(S["H"])((function(){t.value=e.topAlbumData.value})),{topAlbumInfo:t,layoutConfig:n}}};const H=m()(U,[["render",y]]);var L=H,W=Object(r["e"])("label",{for:"search"},"Search",-1),z=["placeholder"],E=Object(r["e"])("span",{class:"caret"},null,-1);function J(e,t,n,a,c,o){return Object(r["i"])(),Object(r["d"])("div",null,[Object(r["e"])("form",{onSubmit:t[4]||(t[4]=Object(r["s"])((function(){return a.handleSearch&&a.handleSearch.apply(a,arguments)}),["prevent"]))},[W,Object(r["r"])(Object(r["e"])("input",{autofocus:"",id:"search-input",ref:"inputRef",onMouseover:t[0]||(t[0]=function(){return a.mouseOver&&a.mouseOver.apply(a,arguments)}),onFocus:t[1]||(t[1]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:t[2]||(t[2]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),placeholder:a.placeholder,type:"search",pattern:".*\\S.*","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.currentSearch=e}),required:""},null,40,z),[[r["p"],a.currentSearch]]),E],32)])}var N={setup:function(e,t){var n=t.emit,r=Object(f["l"])(""),a=Object(f["l"])("");function c(){n("user-search",r.value)}function o(){}function u(){setTimeout((function(){a.value="Your username"}),500)}function l(){r.value="",a.value=""}return{currentSearch:r,placeholder:a,handleSearch:c,onFocus:u,onBlur:l,mouseOver:o}}};n("72c6");const Y=m()(N,[["render",J]]);var G=Y,V=function(e){return Object(r["k"])("data-v-2fcbcecc"),e=e(),Object(r["j"])(),e},K={class:"footer"},Q=V((function(){return Object(r["e"])("a",{href:"https://www.linkedin.com/in/igor-lira-passos-5b4aa5192/"},[Object(r["e"])("i",{class:"fa fa-linkedin-square",style:{"font-size":"24px"}})],-1)})),X=Object(r["f"])(" Â  "),Z=V((function(){return Object(r["e"])("a",{href:"https://github.com/Igor-Lira/fav-albums"},[Object(r["e"])("i",{class:"fa fa-github","aria-hidden":"true"})],-1)})),$=[Q,X,Z];function ee(e,t,n,a,c,o){return Object(r["i"])(),Object(r["d"])("div",K,$)}var te={};n("337a");const ne=m()(te,[["render",ee],["__scopeId","data-v-2fcbcecc"]]);var re=ne,ae={class:"dowload-btn-container"};function ce(e,t,n,a,c,o){return Object(r["i"])(),Object(r["d"])("div",ae,[Object(r["e"])("button",{class:"custom-btn btn",onClick:t[0]||(t[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},"Download")])}var oe={setup:function(e,t){var n=t.emit;function r(){n("download")}return{handleClick:r}}};n("daa3");const ue=m()(oe,[["render",ce],["__scopeId","data-v-7412a368"]]);var le=ue,ie=n("1da1"),se=n("b85c"),fe=(n("96cf"),n("7db0"),n("d3b7"),n("bc3a")),be=n.n(fe),de=n("ed18"),pe=n.n(de),ve=function(e){var t,n=0,r=[],a=e.data.topalbums.album,c=Object(se["a"])(a);try{for(c.s();!(t=c.n()).done;){var o=t.value,u=o.name,l=o.image,i=o.playcount,s=l.find((function(e){return"large"===e.size}))["#text"];s&&n<51&&(r.push({img:s,name:u,playcount:i}),n++)}}catch(f){c.e(f)}finally{c.f()}return r},he=function(){var e=Object(ie["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return pe.a.config(),n="b26782b28af4cf40286635235405d80c",r="https://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&user=".concat(t,"&api_key=").concat(n,"&format=json"),e.abrupt("return",be.a.get(r,{params:{period:"12month",limit:60}}).then(ve));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=n("c0e9"),je=n.n(Oe),me={name:"App",components:{Header:w,Search:G,Mural:L,Download:le,Footer:re},setup:function(){var e=Object(f["l"])(""),t=Object(f["l"])(""),n=Object(f["k"])({value:[]}),r=function(e){he(e).then((function(e){n.value=e,console.log(n.value),!n||n.value.length<51?(t.value="No enough scrobles this year :(",o()):(t.value="",document.activeElement.blur())})).catch((function(){t.value="User not found",o()}))};function a(){var t=document.createElement("a");t.download="favalbums.png",je()(e.value,{allowTaint:!1,useCORS:!0}).then((function(e){t.href=e.toDataURL(),t.click()})).catch((function(e){return console.log("Download error",e.message)}))}var c=Object(f["c"])((function(){return!t.value&&n.value.length}));function o(){setTimeout((function(){n.value={},t.value=""}),2e3)}return{searchInApi:r,muralRef:e,topAlbumData:n,showMural:c,downloadMural:a,errorMessage:t}}};n("4f6b");const ge=m()(me,[["render",s]]);var we=ge;Object(r["b"])(we).mount("#app")},"72c6":function(e,t,n){"use strict";n("5336")},8059:function(e,t,n){},"8ae0":function(e,t,n){"use strict";n("e2e8")},d5f8:function(e,t,n){},daa3:function(e,t,n){"use strict";n("49aa")},e2e8:function(e,t,n){},fa34:function(e,t,n){"use strict";n("37bb")}});
//# sourceMappingURL=app.62771400.js.map